import React from "react";
import { useNavigation } from "@react-navigation/native";
import { Layout } from "@app/layouts/layout";
import { Question, TestTab } from "src/entites/TestTab/test-tab";
import { View } from "react-native";
import Text from "@shared/ui/Text/text";

export const PersonalityTypeTestScreen = () => {
  const navigation = useNavigation();

  const questions: Question[] = [
    {
      id: 1,
      text: "Как вы обычно восстанавливаете энергию?",
      options: [
        "Общаясь с людьми",
        "Проводя время в одиночестве",
        "Занимаясь активной деятельностью",
        "Отдыхая в тихой обстановке",
      ],
    },
    {
      id: 2,
      text: "Как вы предпочитаете получать информацию?",
      options: [
        "Через конкретные факты и детали",
        "Через общие концепции и идеи",
        "Через визуальные представления",
        "Через практический опыт",
      ],
    },
    {
      id: 3,
      text: "Как вы обычно принимаете решения?",
      options: [
        "Основываясь на логике и анализе",
        "Опираясь на чувства и ценности",
        "Взвешивая все за и против",
        "Следуя интуиции",
      ],
    },
    {
      id: 4,
      text: "Как вы организуете свою жизнь?",
      options: [
        "Планирую все заранее",
        "Предпочитаю гибкость и спонтанность",
        "Сочетаю планирование и адаптацию",
        "Действую по ситуации",
      ],
    },
    {
      id: 5,
      text: "Как вы реагируете на новые ситуации?",
      options: [
        "С энтузиазмом и любопытством",
        "С осторожностью и анализом",
        "С открытостью к возможностям",
        "С желанием сохранить стабильность",
      ],
    },
    {
      id: 6,
      text: "Как вы предпочитаете работать?",
      options: [
        "В команде, обсуждая идеи",
        "Самостоятельно, фокусируясь на задаче",
        "Чередуя командную и индивидуальную работу",
        "В паре с близким коллегой",
      ],
    },
    {
      id: 7,
      text: "Как вы обычно выражаете свои эмоции?",
      options: [
        "Открыто и экспрессивно",
        "Сдержанно и осторожно",
        "Через действия и поступки",
        "Через творчество или искусство",
      ],
    },
    {
      id: 8,
      text: "Как вы подходите к решению проблем?",
      options: [
        "Ищу практические и проверенные решения",
        "Генерирую новые и креативные идеи",
        "Анализирую все возможные варианты",
        "Полагаюсь на опыт и интуицию",
      ],
    },
    {
      id: 9,
      text: "Как вы относитесь к правилам и традициям?",
      options: [
        "Уважаю и следую им",
        "Ставлю под сомнение и ищу альтернативы",
        "Адаптирую под конкретную ситуацию",
        "Создаю свои собственные",
      ],
    },
    {
      id: 10,
      text: "Как вы реагируете на конфликты?",
      options: [
        "Стараюсь найти компромисс",
        "Отстаиваю свою позицию",
        "Избегаю конфронтации",
        "Ищу взаимовыгодное решение",
      ],
    },
    {
      id: 11,
      text: "Как вы предпочитаете учиться?",
      options: [
        "Через практический опыт",
        "Через теоретическое изучение",
        "Через обсуждение и дебаты",
        "Через наблюдение за другими",
      ],
    },
    {
      id: 12,
      text: "Как вы относитесь к переменам?",
      options: [
        "Приветствую их как возможность роста",
        "Сопротивляюсь, предпочитая стабильность",
        "Адаптируюсь, но с осторожностью",
        "Инициирую изменения сам",
      ],
    },
    {
      id: 13,
      text: "Как вы предпочитаете проводить свободное время?",
      options: [
        "Активно, занимаясь спортом или путешествуя",
        "Спокойно, читая или размышляя",
        "Социально, встречаясь с друзьями",
        "Творчески, занимаясь хобби",
      ],
    },
    {
      id: 14,
      text: "Как вы обычно планируете будущее?",
      options: [
        "Детально, с конкретными целями",
        "В общих чертах, оставляя место для изменений",
        "Фокусируюсь на ближайшем будущем",
        "Предпочитаю жить настоящим",
      ],
    },
    {
      id: 15,
      text: "Как вы предпочитаете общаться?",
      options: [
        "Лично, face-to-face",
        "Письменно, через сообщения или email",
        "По телефону или видеозвонкам",
        "Через социальные сети",
      ],
    },
  ];

  const handleTestComplete = (answers: { [key: number]: string }) => {
    console.log("Personality test completed with answers:", answers);
    // Here you would typically send the answers to your backend or process them
    // For now, we'll just navigate back to the main screen
    navigation.goBack();
  };

  return (
    <Layout isBack isHeader>
      <View className="mt-16 items-center justify-center">
        <View className="mb-6">
          <Text className="text-xl font-bold">Тест на тип личности</Text>
        </View>
        <TestTab
          questions={questions}
          onComplete={handleTestComplete}
          allowManualNext={true}
        />
      </View>
    </Layout>
  );
};
